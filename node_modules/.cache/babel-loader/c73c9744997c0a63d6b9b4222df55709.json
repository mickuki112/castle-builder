{"ast":null,"code":"import _classCallCheck from \"/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/castle-builder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/castle-builder/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/castle-builder/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/castle-builder/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/castle-builder/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/castle-builder/src/containers/Builder/Builder.js\";\nimport React, { Component } from 'react';\nimport Aux from '../../hoc/Aux';\nimport Castle from '../../components/Castle/Castle';\nimport Modal from '../../components/UI/Modal/Modal';\nimport SummaryBrick from '../../components/Castle/SummaryBrick/SummaryBrick';\nimport styles from './Builder.module.css';\nimport axios from '../../axios-orders';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport Projects from '../Projects/Projects';\n\nvar Builder =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Builder, _Component);\n\n  function Builder() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Builder);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Builder)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: false,\n      error: false,\n      purchasing: false,\n      components: [[\"add\"]],\n      buildMode: 'deCenter',\n      counterBrick: 0,\n      styleComponents: {\n        height: '100px',\n        width: '100px',\n        fontSize: '80px',\n        minWidth: '80px',\n        lineHeight: '80px'\n      }\n    };\n    _this.customer = {\n      name: 'anonym',\n      title: 'anonym',\n      email: 'anonym'\n    };\n\n    _this.addWall = function (type, coOrdinates) {\n      var updateWall = _this.state.components;\n      var counterBrick = _this.state.counterBrick + 1;\n\n      if (type === 'add') {\n        updateWall[coOrdinates[0]][coOrdinates[1]] = 'stoneBrick';\n\n        if (!_this.state.components[coOrdinates[0]][coOrdinates[1] + 1]) {\n          updateWall[coOrdinates[0]].push(\"add\");\n          if (_this.state.buildMode === 'deCenter') updateWall[coOrdinates[0]].unshift(\"add\"); //deCenter\n        }\n\n        if (!_this.state.components[coOrdinates[0]][coOrdinates[1] - 1]) {\n          updateWall[coOrdinates[0]].unshift(\"add\");\n          if (_this.state.buildMode === 'deCenter') updateWall[coOrdinates[0]].push(\"add\"); //deCenter\n        } //if(0<(coOrdinates[0]+1)){\n\n\n        if (_this.state.components[coOrdinates[0] + 1]) {\n          if (!_this.state.components[coOrdinates[0] + 1][coOrdinates[1]]) {\n            if (_this.state.buildMode === 'deCenter') {\n              updateWall[coOrdinates[0] + 1].push(\"add\");\n              updateWall[coOrdinates[0] + 1].unshift(\"add\"); //deCenter\n            }\n          }\n        } else {\n          updateWall.push([\"add\"]);\n        } //}\n\n\n        if (_this.state.components[coOrdinates[0] - 1]) {\n          if (!_this.state.components[coOrdinates[0] - 1][coOrdinates[1]]) {\n            if (_this.state.buildMode === 'deCenter') {\n              updateWall[coOrdinates[0] - 1].push(\"add\");\n              updateWall[coOrdinates[0] - 1].unshift(\"add\"); //deCenter\n            }\n          }\n        } else {\n          updateWall.unshift([\"add\"]);\n        }\n      } else {\n        updateWall[coOrdinates[0]][coOrdinates[1]] = 'add';\n        counterBrick = _this.state.counterBrick - 1;\n      }\n\n      var sizeBrick = updateWall.length;\n      updateWall.map(function (_, i) {\n        if (sizeBrick < _this.state.components[i].length) {\n          sizeBrick = _this.state.components[i].length; //make repairs\n        }\n      });\n      var sizeComponent = 1 - sizeBrick * 0.03;\n\n      _this.setState({\n        counterBrick: counterBrick,\n        components: updateWall,\n        styleComponents: {\n          height: 100 * sizeComponent + 'px',\n          minWidth: 100 * sizeComponent + 'px',\n          width: 100 * sizeComponent + 'px',\n          fontSize: 80 * sizeComponent + 'px',\n          lineHeight: 80 * sizeComponent + 'px'\n        }\n      });\n    };\n\n    _this.buildMode = function () {\n      if (_this.state.buildMode === 'deCenter') {\n        _this.setState({\n          buildMode: 'Center'\n        });\n      } else {\n        _this.setState({\n          buildMode: 'deCenter'\n        });\n      }\n    };\n\n    _this.order = function () {\n      _this.setState({\n        purchasing: true\n      });\n    };\n\n    _this.modalClosed = function () {\n      _this.setState({\n        purchasing: false\n      });\n    };\n\n    _this.sendDatebase = function () {\n      _this.setState({\n        loading: true\n      });\n\n      var order = {\n        components: _this.state.components,\n        counterBrick: _this.state.counterBrick,\n        customer: {\n          name: _this.customer.name,\n          title: _this.customer.title,\n          email: _this.customer.email\n        }\n      };\n      axios.post('/orders.json', order).then(function (response) {\n        _this.setState({\n          loading: false,\n          purchasing: false\n        });\n      }).catch(function (error) {\n        _this.setState({\n          loading: false,\n          purchasing: false\n        });\n      });\n    };\n\n    _this.inputPublish = function (event) {};\n\n    return _this;\n  }\n\n  _createClass(Builder, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var builder = React.createElement(Aux, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: styles.trapeze,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.buildMode,\n        className: styles.Button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"build mode: \", this.state.buildMode), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"the number of brick: \", this.state.counterBrick)), React.createElement(Castle, {\n        added: this.addWall,\n        components: this.state.components,\n        styleComponents: this.state.styleComponents,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: styles.ButtonDiv,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: styles.order,\n        onClick: this.order,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Publish\"), React.createElement(\"p\", {\n        className: styles.copy,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"\\xA9 by Micha\\u0142 Kubiak\")));\n      var orderSummary = React.createElement(SummaryBrick, {\n        clicked: this.sendDatebase,\n        counterBrick: this.state.counterBrick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: styles.Input,\n        onChange: function onChange(event) {\n          return _this2.customer.name = event.target.value;\n        },\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Title of the castle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: styles.Input,\n        onChange: function onChange(event) {\n          return _this2.customer.title = event.target.value;\n        },\n        type: \"text\",\n        name: \"Name\",\n        placeholder: \"Your Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: styles.Input,\n        onChange: function onChange(event) {\n          return _this2.customer.email = event.target.value;\n        },\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Your Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      })));\n\n      if (this.state.loading) {\n        orderSummary = React.createElement(Spinner, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(Aux, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        show: this.state.purchasing,\n        modalClosed: this.modalClosed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, orderSummary), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/builder\",\n        exact: true,\n        render: function render() {\n          return builder;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/projects\",\n        component: Projects,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(Redirect, {\n        from: \"/\",\n        to: \"/builder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      })), React.createElement(Route, {\n        path: \"/abaut\",\n        exact: true,\n        render: function render() {\n          return React.createElement(Modal, {\n            show: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            },\n            __self: this\n          }, \"jp\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Builder;\n}(Component);\n\nexport default Builder;","map":{"version":3,"sources":["/media/mickuki/f37c4816-231b-487c-8f5f-b372b930c30c/web_master/castle-builder/src/containers/Builder/Builder.js"],"names":["React","Component","Aux","Castle","Modal","SummaryBrick","styles","axios","Spinner","Route","Redirect","Switch","Projects","Builder","state","loading","error","purchasing","components","buildMode","counterBrick","styleComponents","height","width","fontSize","minWidth","lineHeight","customer","name","title","email","addWall","type","coOrdinates","updateWall","push","unshift","sizeBrick","length","map","_","i","sizeComponent","setState","order","modalClosed","sendDatebase","post","then","response","catch","inputPublish","event","builder","trapeze","Button","ButtonDiv","copy","orderSummary","Input","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Aux from '../../hoc/Aux';\nimport Castle from '../../components/Castle/Castle';\nimport Modal from '../../components/UI/Modal/Modal';\nimport SummaryBrick from '../../components/Castle/SummaryBrick/SummaryBrick';\nimport styles from './Builder.module.css';\nimport axios from '../../axios-orders';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport {Route,Redirect,Switch} from 'react-router-dom';\nimport Projects from '../Projects/Projects';\n\n\nclass Builder extends Component {\n    state={\n        loading: false,\n        error: false,\n        purchasing:false,\n        components:[[\"add\"]],\n        buildMode:'deCenter',\n        counterBrick:0,\n        styleComponents:{\n            height: '100px',\n            width: '100px',\n            fontSize:'80px',\n            minWidth:'80px',\n            lineHeight: '80px',\n        }\n    }\n    customer={\n        name: 'anonym',\n        title:'anonym',\n        email: 'anonym',\n    }\n    addWall=(type,coOrdinates)=>{\n        let updateWall=this.state.components;\n        let counterBrick=this.state.counterBrick+1;\n            if(type==='add'){\n            updateWall[coOrdinates[0]][coOrdinates[1]]='stoneBrick'\n            if(!this.state.components[coOrdinates[0]][coOrdinates[1]+1]){\n                updateWall[coOrdinates[0]].push(\"add\");\n                if(this.state.buildMode==='deCenter')updateWall[coOrdinates[0]].unshift(\"add\");//deCenter\n            }\n            if(!this.state.components[coOrdinates[0]][coOrdinates[1]-1]){\n                updateWall[coOrdinates[0]].unshift(\"add\");\n                if(this.state.buildMode==='deCenter')updateWall[coOrdinates[0]].push(\"add\");//deCenter\n\n            }\n            //if(0<(coOrdinates[0]+1)){\n                if(this.state.components[coOrdinates[0]+1]){\n                    if(!this.state.components[coOrdinates[0]+1][coOrdinates[1]]){\n                        if(this.state.buildMode==='deCenter'){\n                            updateWall[coOrdinates[0]+1].push(\"add\");\n                            updateWall[coOrdinates[0]+1].unshift(\"add\");//deCenter\n                        }\n                    }\n                }\n                else{\n                    updateWall.push([\"add\"]);\n                }\n            //}\n            if(this.state.components[coOrdinates[0]-1] ){\n                if(!this.state.components[coOrdinates[0]-1][coOrdinates[1]]){\n                    if(this.state.buildMode==='deCenter'){\n                        updateWall[coOrdinates[0]-1].push(\"add\");\n                        updateWall[coOrdinates[0]-1].unshift(\"add\");//deCenter\n                    }\n                }\n            }\n            else{\n                updateWall.unshift([\"add\"]);\n            }\n        }else{\n            updateWall[coOrdinates[0]][coOrdinates[1]]='add';\n            counterBrick=this.state.counterBrick-1;\n        }\n        let sizeBrick =updateWall.length;\n        updateWall.map((_,i)=>{\n            if(sizeBrick<this.state.components[i].length){\n                sizeBrick=this.state.components[i].length;//make repairs\n            }\n        });\n        const sizeComponent=(1-sizeBrick*0.03);\n        this.setState({\n        counterBrick:counterBrick,\n        components:updateWall,\n        styleComponents:{\n            height: (100*sizeComponent)+'px',\n            minWidth: (100*sizeComponent)+'px',\n            width: (100*sizeComponent)+'px',\n            fontSize:(80*sizeComponent)+'px',\n            lineHeight: (80*sizeComponent)+'px'\n\n        }})\n    }\n    buildMode=()=>{\n        if(this.state.buildMode==='deCenter'){\n            this.setState({buildMode:'Center'})\n        }else{\n            this.setState({buildMode:'deCenter'})\n        }\n    }\n    order=()=>{\n        this.setState({purchasing:true})\n    }\n    modalClosed=()=>{\n        this.setState({purchasing:false})\n    }\n    sendDatebase=()=>{\n        this.setState( { loading: true } );\n        const order = {\n            components: this.state.components,\n            counterBrick:this.state.counterBrick,\n            customer: {\n                name: this.customer.name,\n                title:this.customer.title,\n                email: this.customer.email,\n            },\n        }\n        axios.post( '/orders.json', order )\n            .then( response => {\n                this.setState( { loading: false, purchasing: false } );\n            } )\n            .catch( error => {\n                this.setState( { loading: false, purchasing: false } );\n            } );\n    }\n    inputPublish=(event)=>{\n\n}\n    render(){\n        const builder=(\n            <Aux>\n                <div className={styles.trapeze}>\n                    <button onClick={this.buildMode} className={styles.Button}>build mode: {this.state.buildMode}</button>\n                    <p>the number of brick: {this.state.counterBrick}</p>\n                </div>\n                <Castle added={this.addWall}\n                components={this.state.components}\n                styleComponents={this.state.styleComponents}/>\n                <div className={styles.ButtonDiv}>\n                    <button className={styles.order}  onClick={this.order}>Publish</button>\n                <p className={styles.copy}>&copy; by Michał Kubiak</p>\n                </div>\n            </Aux>\n        );\n        let orderSummary=(\n            <SummaryBrick\n                clicked={this.sendDatebase}\n                counterBrick={this.state.counterBrick}\n            >\n                <form>\n                    <input className={styles.Input} onChange={(event) => this.customer.name=event.target.value} type=\"text\" name=\"title\" placeholder=\"Title of the castle\" />\n                    <input className={styles.Input} onChange={(event) => this.customer.title=event.target.value} type=\"text\" name=\"Name\" placeholder=\"Your Name\" />\n                    <input className={styles.Input} onChange={(event) => this.customer.email=event.target.value} type=\"email\" name=\"email\" placeholder=\"Your Email\" />\n                </form>\n            </SummaryBrick>\n\n        );\n        if ( this.state.loading ) {\n            orderSummary = <Spinner />;\n        }\n        return(\n            <Aux>\n                <Modal show={this.state.purchasing} modalClosed={this.modalClosed}>\n                    {orderSummary}\n                </Modal>\n                <Switch>\n                    <Route path='/builder' exact  render={()=>builder}/>\n                    <Route path='/projects' component={Projects}/>\n                    <Redirect from=\"/\" to=\"/builder\"  />\n                </Switch>\n                <Route path='/abaut' exact  render={()=>(\n                        <Modal show={true} >\n                        jp\n                        </Modal>\n                    )\n                }/>\n            </Aux>\n        );\n    }\n}\nexport default Builder;\n"]},"metadata":{},"sourceType":"module"}